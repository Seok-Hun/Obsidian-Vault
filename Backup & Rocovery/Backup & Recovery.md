# 가동율 척도
### [[서비스 수준 협약서(SLA)|SLA]] 측면을 포함한 시스템 <font color="#00b0f0">가용성(Availability)</font>과 <font color="#00b0f0">신뢰도</font>를 측정하는 기준

![[Pasted image 20231014185622.png]]
- MTTD(Mean Time To Detect, 평균 장애 인지 시간) : 장애 발싱시점부터 장애 인지까지의 시간
	- 보통 인간이 통제할 수 없는 요소에 의해 결정된다.
- <font color="#ff0000">MTTR(Mean Time To Repair, 평균 복구 시간)</font> : 장애 인지시점부터 복구 완료까지의 시간
	- 장애 인지가 불필요하거나 중요하지 않은 경우 MTTD를 MTTR에 포함하기도 함
- MTTF(Mean Time To Failure, 평균 가용 시간) : 복구 완료 시점부터 다음 장애 발생까지의 시간
- <font color="#ff0000">MTBF(Mean Time Between Failure, 평균 장애 발생 시간)</font> : 장애 발생시점부터 다음 장애 발생까지의 시간

---

# 복구 척도

![[Pasted image 20231014190718.png]]
### <font color="#ff0000">RTO(Recovery Point Objective, 목표 복구 시점)</font>
- **장애 발생 시 비즈니스 연속을 위해 어느 시점으로 백업할 지 결정
- 고려사항
	- 데이터 손실을 얼마나 감당할 수 있는가
	- 감내할 수 있는 데이터 손실의 양(시간)
	- 현재로부터 가장 가까운 백업지점까지의 목표 시간
### <font color="#ff0000">RPO(Recovery Time Objective, 목표 복구 시간)</font>
- **장애 발생 시 시스템을 원 상태로 복원하는데 소요되는 시간
- 고려사항
	- 시스템이 얼마나 빨리 복구되어야 하는가
	- 서비스가 재개될 때까지 걸리는 시간
- RPO를 줄이기 위해서는 <font color="#00b0f0">백업 주기를 짧게</font> 한다.
	- 단, <font color="#00b0f0">메모리 비용</font>을 생각해야 한다.

---

# 전략 정의
### <font color="#ff0000">효과적인 Backup과 Recovery 전략을 지원하는데 필요한 정보 제공</font>
### 업무상의 요구사항
- **<font color="#ff0000">Downtime에 업무상에 가해질 영향 파악</font>**
>[!Downtime]
>- 시스템을 이요할 수 없는 시간을 의미한다.
>- 반의어로 uptime이 있다.
- **MTTR
	- 가장 짧은 시간에 복구
	- 장애 예상, 대응 전략 사용
- **MTBF
	- 장애가 자주 발생되지 않을 데이터베이스 구성
	- backup 및 recovery 구조 이해
- **프로세스 진화
	- 요구에 따른 적절한 방법 적용
### 기술상의 요구사항
- **운영체계 파일의 물리적 이미지 복사
	- 기억 장치 공간에 영향
- **[[DataBase(DB)|데이터베이스]] 객체의 논리적 복사
	- 시스템 자원에 영향
	- 데이터, 데이터 구조, 데이터 정보
- **데이터베이스 구성
	- Backup이 수행되는 방법과 데이터베이스 사용 가능성에 영향
- **[[Database Transaction|트랜잭션]] 볼륨이 백업의 빈도에 영향을 미침
	- 많은 트랜잭션의 수행은 시스템 자우너상의 로드 증가
### 운영상의 요구사항
- **<font color="red">업무 운영의 유형에 따른 영향 파악</font>
- **MTTR
- **MTBF
- **24시간 운영
	- 가용성 및 지속적인 운영
- **백업의 테스트 및 검증
	- 적용하려는 방법의 유효성을 정기적으로 검증
- **휘발성(volatility)
	- 테이블 갱신, 데이터 변환, 구조 변환, 데이터파일 추가
### 경영자의 동의
##### Trade-off, 자원제공, 중요성 이해

>[!Trade-off]
>- 상층 관계라고도 한다.
>- 다른 측면에서 이득을 얻으면서 집합 또는 디자인의 품질, 양, 속성을 없애거나 잃어버리는 일이 수반되는 상황적 결정을 말한다.

---

# Backup Type
### Incremental : 변경 부분만 백업
### Full : 모든 데이터 백업
- 보통 일요일에 수행한다.
### 장애 발생시 가장 최근의 Full Backup 데이터를 가져온 후 Incremental 백업 데이터를 가져와 백업을 수행한다.
- 해당 백업  방식은 아카이브에서 수행한다.

>[!redo]
>- 백업을 수행하면 백업과 현재 사이의 데이터는 백업되지 않는다
>→ 이를 해결하기 위해 redo로 해당 시간의 백업을 수행한다.

>[!Recovery]
>- recovery 과정에서 백업한 데이터를 바로 장애 서버에 덮어씌우는 것은 불가능하다.
>→ 다른 서버로 백업 데이터를 가져와 recovery를 수행한 후 장애 서버에 반영한다.





